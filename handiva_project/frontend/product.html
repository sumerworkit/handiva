<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Product - Handiva</title><link rel="stylesheet" href="styles/styles.css" /></head><body>
<header class="site-header"><div class="container header-inner"><div class="brand"><h1>Handiva</h1></div><nav class="main-nav"><a href="index.html">Home</a></nav></div></header>
<main class="container">
  <div id="product-root"></div>
</main>
<script>
  async function load(){
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');
    const root = document.getElementById('product-root');
    if(!id){ root.innerHTML = '<p>No product id</p>'; return; }
    const res = await fetch('/api/products/' + id);
    if(!res.ok){ root.innerHTML = '<p>Product not found</p>'; return; }
    const p = await res.json();
    root.innerHTML = `
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:18px">
        <div>
          <img src="${p.images?.[0]||'assets/hero-wool.jpg'}" style="width:100%;border-radius:10px" />
          <p style="font-size:12px;color:#666;margin-top:8px">360° view placeholder - replace with real viewer</p>
        </div>
        <div>
          <h2>${p.title}</h2>
          <p style="color:#666">${p.artisan?.name || ''} — ${p.artisan?.origin || ''}</p>
          <h3>₹${p.price}</h3>
          <p>${p.description || ''}</p>
          <p><strong>Material:</strong> ${p.material}</p>
          <p><strong>Care:</strong> Hand wash/Cold wash recommended (demo)</p>
          <button class="btn" onclick="alert('Demo checkout - implement payment gateway')">Buy Now</button>
        </div>
      </div>
      <section style="margin-top:18px">
        <h3>About the Artisan</h3>
        <p>${p.artisan?.about || 'No details provided'}</p>
      </section>
    `;
  }
  load();
</script>
</body></html>
